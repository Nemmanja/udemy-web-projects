<%- include ("partials/header") %>

<main class="container">

    <section class="add-section">
        <h2 class="gravitas">Add new book note</h2>

        <form action="/add" method="POST" class="form">
            <input type="text" name="title" placeholder="Book title" required/>
            <textarea name="content" placeholder="Your notes..." rows="5" required></textarea>
            <button type="submit">Add note</button>
        </form>
    </section>
    
    <section class="notes-section">
        <h2 class="gravitas">Your book notes</h2>
        <div class="notes-grid">
            <% books.forEach(book => { %>
            <article class="note-card">
                <form action="/edit" method="POST" class="form edit-form">
                    <input type="hidden" name="updatedId" value="<%= book.id %>" />
                    <input type="text" name="updatedTitle" value="<%= book.title %>" required/>
                    <textarea name="updatedContent" rows="4" required><%= book.content %></textarea>
                    <div class="actions">
                        <button type="submit" class="edit-btn">Save</button>
                    </div>
                </form>
                <form action="/delete" method="POST">
                    <input type="hidden" name="deletedId" value="<%= book.id %>" />
                    <button type="submit" class="delete-btn">Delete</button>
                </form>
            </article>
            <% }) %>
        </div>
    </section>
</main>


<%- include ("partials/footer") %>